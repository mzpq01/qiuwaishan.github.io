<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title>Littoral Gradient</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.26.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.26.0/mapbox-gl.css' rel='stylesheet' />
    <style>
        h1, h2, h3, h4{
            left: 10px;
            font-size: 0.6em;
            font-weight: 100;
            color: #585858;
            z-index: 1;
        }
        h1 {
            position: absolute;
            top: 0px;
            font-size: 1.2em;
            font-style: black;
            color: black;
        }
        h2 {
          position: absolute;
            top: 10px;
            font-size: 0.6em;
        }
        h4 { 
          position: absolute;         
            top: 20px;
            font-size: 0.3em;
        }
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; z-index: 0;}
    </style>
</head>
<body>
    <h1> DEVELOPING THE <font color="black"><b>LITTORAL GRADIENT</b></font></h1>
    <h2> THE <font color="black"><b>SAMUEL TAK LEE MIT REAL ESTATE ENTREPRENEURSHIP</b></font> LAB ï½œ 2015 SEED FUND</h2>
    <h4> PI: <font color="black"><b>BRENT D. RYAN, FADI MASOUD</b></font><br>
     RESEARCH ASSISTANT: XI QIU, RICARDO JNANI GONZALEZ, CANER OKTEM, SEAN PHILLIPS, XHULIO BINJAKU;<br>
     WEBSITE DEVELOPER: WAISHAN QIU </h4>
<style>
    .mapboxgl-popup {
        max-width: 400px;
        font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
    }
</style>
<div id='map'></div>
<script>
mapboxgl.accessToken = 'pk.eyJ1IjoicWl1d2Fpc2hhbiIsImEiOiJjaWVsb3BicnYwMDJ6NHFrbnU2cHVncm56In0.XNz-KrnFme0pU8MdGtYShQ';

var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/qiuwaishan/ciuaotk5q002u2ipiqdxmpcen',
    center: [110.819028, 36.676181],
    zoom: 3
});

map.on('load', function() {
    // Add a GeoJSON source containing place coordinates and information.
    map.addSource("places", {
        "type": "geojson",
        "data": {
            "type": "FeatureCollection",
            "features": [{
                "type": "Feature",
                "properties": {
                    "NO.":1,
                    "description": "<strong>Lingang New Town</strong><p><a href=\"http://qiuwaishan.wixsite.com/littoral-gradient\" target=\"_blank\" title=\"Opens in a new window\">Lingang New Town</a> Nanhui, Shanghai</p>",
                    "icon": "hospital"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [121.921182, 30.899511]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "NO.":2,
                    "description": "<strong>Changxing Island</strong><p><a href=\"http://qiuwaishan.wixsite.com/littoral-gradient\" target=\"_blank\" title=\"Opens in a new window\">Lingang New Town</a> Nanhui, Shanghai</p>",
                    "icon": "hospital"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [121.522796, 39.599248]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "NO.":3,
                    "description": "<strong>Caofeidian Industrial Park</strong><p><a href=\"http://qiuwaishan.wixsite.com/littoral-gradient\" target=\"_blank\" title=\"Opens in a new window\">Caofeidian Industrial Park</a> Nanhui, Shanghai</p>",
                    "icon": "hospital"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [118.531952,38.936980]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "NO.":4,
                    "description": "<strong>Caofeidian Industrial Park</strong><p><a href=\"http://qiuwaishan.wixsite.com/littoral-gradient\" target=\"_blank\" title=\"Opens in a new window\">Caofeidian Industrial Park</a> Nanhui, Shanghai</p>",
                    "icon": "hospital"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [117.743740, 39.124365]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "NO.":5,
                    "description": "<strong>Caofeidian Industrial Park</strong><p><a href=\"http://qiuwaishan.wixsite.com/littoral-gradient\" target=\"_blank\" title=\"Opens in a new window\">Caofeidian Industrial Park</a> Nanhui, Shanghai</p>",
                    "icon": "hospital"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [120.325181, 37.659435]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "NO.":6,
                    "description": "<strong>Caofeidian Industrial Park</strong><p><a href=\"http://qiuwaishan.wixsite.com/littoral-gradient\" target=\"_blank\" title=\"Opens in a new window\">Caofeidian Industrial Park</a> Nanhui, Shanghai</p>",
                    "icon": "hospital"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [119.540398, 34.530439]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "NO.":7,
                    "description": "<strong>Caofeidian Industrial Park</strong><p><a href=\"http://qiuwaishan.wixsite.com/littoral-gradient\" target=\"_blank\" title=\"Opens in a new window\">Caofeidian Industrial Park</a> Nanhui, Shanghai</p>",
                    "icon": "hospital"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [120.845484, 32.812294]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "NO.":8,
                    "description": "<strong>Caofeidian Industrial Park</strong><p><a href=\"http://qiuwaishan.wixsite.com/littoral-gradient\" target=\"_blank\" title=\"Opens in a new window\">Caofeidian Industrial Park</a> Nanhui, Shanghai</p>",
                    "icon": "hospital"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [120.280829, 31.543690]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "NO.":9,
                    "description": "<strong>Caofeidian Industrial Park</strong><p><a href=\"http://qiuwaishan.wixsite.com/littoral-gradient\" target=\"_blank\" title=\"Opens in a new window\">Caofeidian Industrial Park</a> Nanhui, Shanghai</p>",
                    "icon": "hospital"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [121.917181, 31.517100]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "NO.":10,
                    "description": "<strong>Caofeidian Industrial Park</strong><p><a href=\"http://qiuwaishan.wixsite.com/littoral-gradient\" target=\"_blank\" title=\"Opens in a new window\">Caofeidian Industrial Park</a> Nanhui, Shanghai</p>",
                    "icon": "hospital"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [121.456179, 29.112174]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "NO.":11,
                    "description": "<strong>Caofeidian Industrial Park</strong><p><a href=\"http://qiuwaishan.wixsite.com/littoral-gradient\" target=\"_blank\" title=\"Opens in a new window\">Caofeidian Industrial Park</a> Nanhui, Shanghai</p>",
                    "icon": "hospital"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [121.277735, 28.217846]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "NO.":12,
                    "description": "<strong>Caofeidian Industrial Park</strong><p><a href=\"http://qiuwaishan.wixsite.com/littoral-gradient\" target=\"_blank\" title=\"Opens in a new window\">Caofeidian Industrial Park</a> Nanhui, Shanghai</p>",
                    "icon": "hospital"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [118.071545, 24.375603]
                }
            },  {
                "type": "Feature",
                "properties": {
                    "NO.":13,
                    "description": "<strong>Caofeidian Industrial Park</strong><p><a href=\"http://qiuwaishan.wixsite.com/littoral-gradient\" target=\"_blank\" title=\"Opens in a new window\">Caofeidian Industrial Park</a> Nanhui, Shanghai</p>",
                    "icon": "hospital"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [116.794815, 23.351280]
                }
            },  {
                "type": "Feature",
                "properties": {
                    "NO.":14,
                    "description": "<strong>Caofeidian Industrial Park</strong><p><a href=\"http://qiuwaishan.wixsite.com/littoral-gradient\" target=\"_blank\" title=\"Opens in a new window\">Caofeidian Industrial Park</a> Nanhui, Shanghai</p>",
                    "icon": "hospital"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [113.981644, 22.542547]
                }
            },  {
                "type": "Feature",
                "properties": {
                    "NO.":15,
                    "description": "<strong>Caofeidian Industrial Park</strong><p><a href=\"http://qiuwaishan.wixsite.com/littoral-gradient\" target=\"_blank\" title=\"Opens in a new window\">Caofeidian Industrial Park</a> Nanhui, Shanghai</p>",
                    "icon": "hospital"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [113.897426, 22.467981]
                }
            },  {
                "type": "Feature",
                "properties": {
                    "NO.":16,
                    "description": "<strong>Caofeidian Industrial Park</strong><p><a href=\"http://qiuwaishan.wixsite.com/littoral-gradient\" target=\"_blank\" title=\"Opens in a new window\">Caofeidian Industrial Park</a> Nanhui, Shanghai</p>",
                    "icon": "hospital"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [113.917381, 22.483525]
                }
            },  {
                "type": "Feature",
                "properties": {
                    "NO.":17,
                    "description": "<strong>Caofeidian Industrial Park</strong><p><a href=\"http://qiuwaishan.wixsite.com/littoral-gradient\" target=\"_blank\" title=\"Opens in a new window\">Caofeidian Industrial Park</a> Nanhui, Shanghai</p>",
                    "icon": "hospital"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [113.894893, 22.534546]
                }
            },  {
                "type": "Feature",
                "properties": {
                    "NO.":18,
                    "description": "<strong>Caofeidian Industrial Park</strong><p><a href=\"http://qiuwaishan.wixsite.com/littoral-gradient\" target=\"_blank\" title=\"Opens in a new window\">Caofeidian Industrial Park</a> Nanhui, Shanghai</p>",
                    "icon": "hospital"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [113.418863, 22.199365]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "NO.":19,
                    "description": "<strong>Caofeidian Industrial Park</strong><p><a href=\"http://qiuwaishan.wixsite.com/littoral-gradient\" target=\"_blank\" title=\"Opens in a new window\">Caofeidian Industrial Park</a> Nanhui, Shanghai</p>",
                    "icon": "hospital"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [113.564301, 22.143678]
                }
            },  {
                "type": "Feature",
                "properties": {
                    "NO.":20,
                    "description": "<strong>Caofeidian Industrial Park</strong><p><a href=\"http://qiuwaishan.wixsite.com/littoral-gradient\" target=\"_blank\" title=\"Opens in a new window\">Caofeidian Industrial Park</a> Nanhui, Shanghai</p>",
                    "icon": "hospital"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [109.507710, 18.238009]
                }
            },  {
                "type": "Feature",
                "properties": {
                    "NO.":21,
                    "description": "<strong>Caofeidian Industrial Park</strong><p><a href=\"http://qiuwaishan.wixsite.com/littoral-gradient\" target=\"_blank\" title=\"Opens in a new window\">Caofeidian Industrial Park</a> Nanhui, Shanghai</p>",
                    "icon": "hospital"
                },
                "geometry": {
                    "type": "Point",
                    "coordinates": [109.493805, 18.240597]
                }
            }]
        }
    });

    // Add a layer showing the places.
    map.addLayer({
        "id": "places",
        "type": "symbol",
        "source": "places",
        "layout": {
            "icon-image": "{icon}-15",
            "icon-allow-overlap": true
        }
    });
});

// Create a popup, but don't add it to the map yet.
var popup = new mapboxgl.Popup({
    closeButton: false,
    closeOnClick: false
});

map.on('mousemove', function(e) {
    var features = map.queryRenderedFeatures(e.point, { layers: ['places'] });
    // Change the cursor style as a UI indicator.
    map.getCanvas().style.cursor = (features.length) ? 'pointer' : '';

    if (!features.length) {
        popup.remove();
        return;
    }

    var feature = features[0];

    // Populate the popup and set its coordinates
    // based on the feature found.
    popup.setLngLat(feature.geometry.coordinates)
        .setHTML(feature.properties.description)
        .addTo(map);
});
</script>

</body>
</html>